# ТГ-бот для модерации с использованием нейронок 
## Начало работы
1. Создайте бота с помощью команды `/newbot` в [официальном боте по управлению ботами](https://t.me/BotFather)
2. Там же поставьте, чтобы бот читал все сообщения в группах: `/mybots` > выберите своего бота > Bot Settings > Group Privacy > Turn off
3. Скачайте репозиторий
4. Установите зависимости: `pip install -r requirements.txt`
5. *Если таким образом зависимости не устанавливаются, введите C:\Users\<User(замените на своего)>\AppData\Local\Programs\Python\Python313(посморите в powershell версию python)\python.exe -m pip install -r requirements.txt
6. *Так как torch и transformers обычно запускаются с помощью pytorch, при установке зависимостей python базовым pip может их не принять, если такое случилось, поставьте указанные версии вручную в python packages
4. Откройте main.py и вставьте токен, который был выдан при создании бота, в `token=""` в строке 8
## Запуск бота
Запустите main.py
## Как сделать, чтобы бот следил за вашей группой
1. Добавьте бота в группу (так же, как и обычного пользователя)
2. Зайдите в бота и отправьте ему сообщение формата: `/addgroup <id группы (с -100)>` (как узнать id группы - смотрите следующий раздел)
3. *Если админ не находится, уберите -100 у id группы, автоматическое дешифрование зависисит от вашей среды
## Как узнать ID группы
В десктопном телеграме: Боковая панель > Настройки > Продвинутые настройки > Экспериментальные настройки > Включите Show Peer IDs in Profile  
Теперь в профиле группы вы сможете увидеть ee id; добавьте к нему в начало -100 перед отправкой в бота
## Рилиз ноутс
* На данный момент бот умеет только отправлять при отправке любого текстового сообщения в группу фиксированный текст админу группы (ну и добавлять админов)
* Пока что добавится админом к группе может любой человек, но только один; вероятно, придется это как-то потом править
* Попрошу не бить меня за асинхронность; возможно, придется править
* Я понимаю, что добавлять группу через id очень неудобно, но пока что как есть; потом, наверное, поправим
* Я много чего перелопатил (переназвал файлы например, потому что не понял какая у них функция должна быть), потому что Ваня написал много ненужного нам; надеюсь, вы мне такой волюнтаризм простите
* requirements.txt написал как смог, но я думаю он обязательно должен быть (как и собственно README.md); возможно, придется допиливать
* Тестировал я на своем боте и своей группе, так как где тот от которого Ванин токен я хз; не думаю что это важно
* На боте стоят две модели, одна на определение хиханек, состоящих их повторющихся симовлов, вторая на ругань, угрозы и маты
